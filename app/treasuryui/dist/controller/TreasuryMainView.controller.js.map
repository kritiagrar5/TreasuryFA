{"version":3,"file":"TreasuryMainView.controller.js","names":["sap","ui","define","Controller","MessageBox","PDFViewer","BusyDialog","MessageToast","extend","onInit","oModel","model","json","JSONModel","this","getView","setModel","onBeforeShow","getModel","refresh","onChatCopy","oChatBox","byId","domRef","getDomRef","m","show","message","innerText","navigator","clipboard","writeText","then","catch","err","console","error","onChatExport","async","window","jspdf","html2canvas","jsPDF","userInput","getProperty","wrapper","document","createElement","style","width","padding","background","fontFamily","position","top","left","body","appendChild","userInputBox","borderRadius","marginBottom","border","headerText","textContent","fontSize","fontWeight","color","userInputText","responseClone","cloneNode","margin","Promise","resolve","requestAnimationFrame","canvas","scale","useCORS","scrollY","windowWidth","scrollWidth","height","scrollHeight","imgData","toDataURL","pdf","pdfWidth","internal","pageSize","getWidth","pdfHeight","getHeight","imgWidth","imgHeight","heightLeft","addImage","addPage","save","removeChild","onfetchCSRF","url","response","fetch","method","headers","token","get","Error","onSelectDocument","oEvent","oMultiBox","getSource","aSelectedItems","getSelectedItems","aFiles","map","element","getText","push","sFormattedPrompt","join","setValue","onUserChat","setVisible","chatModel","getOwnerComponent","oView","sInput","getValue","setSubmit","setvisibleResult","isIntellibase","toLowerCase","includes","keywords","isValid","length","isMalicious","some","keyword","toUpperCase","isRightPrompt","setSelectedKeys","endsWith","warning","information","oBusyDialog","title","text","open","setBusy","resp","onfetchData","sResponse","sFinalHtml","test","replace","match","tableHtml","rows","matchAll","data","row","cells","trim","sPre","forEach","idx","c","padEnd","setResult","log","close","chatUrl","getBaseUrl","thisUser","payload","csrf","fetchCsrfToken","oContainer","removeAllItems","controller","AbortController","timeout","setTimeout","abort","user","ok","userDetails","bankId","name","JSON","stringify","signal","clearTimeout","status","isHTMlString","FINAL_RESULT","finalres","sCombinedHtml","SQL_QUERY","onGenerateSummary","aMultiBoxSelectedItems","textArea","oSelectedFile","_callSummaryApi","require","toUrl","credentials","oBusy","success","Array","isArray","summary_files","res","_displayPdfFiles","filesArray","oPdfViewer","_createPdfViewer","filename","addItem","base64","byteCharacters","atob","bytes","Uint8Array","i","charCodeAt","blob","Blob","type","URL","createObjectURL","downloadButton","Button","icon","tooltip","press","a","href","download","click","Panel","content","core","HTML","layoutData","FlexItemData","growFactor"],"sources":["TreasuryMainView-dbg.controller.js"],"mappings":"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","ignoreList":[]}